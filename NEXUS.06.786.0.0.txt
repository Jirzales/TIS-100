@0
MOV 39 ACC
SAV
L: MOV RIGHT ACC
MOV ACC RIGHT
MOV ACC RIGHT
SWP
ADD -1
JEZ F
MOV 1 RIGHT
SWP
JMP L
F: MOV -2 RIGHT
MOV 5 RIGHT
JMP F

@1
JMP IN
ST: SUB LEFT
JGZ SWAP
MOV ACC RIGHT
ADD LEFT
JMP F
SWAP: NEG
MOV ACC RIGHT
MOV LEFT ACC
F: MOV ACC RIGHT
JRO LEFT
MOV 1 RIGHT
IN: MOV UP LEFT
MOV RIGHT ACC
JMP ST

@2
MOV UP LEFT
ST: MOV LEFT RIGHT
MOV LEFT ACC
ADD RIGHT
JRO LEFT
MOV UP LEFT
ADD RIGHT
MOV ACC DOWN
JMP ST
F: ADD RIGHT
MOV ACC DOWN
MOV NIL RIGHT
MOV RIGHT NIL
JMP F

@3
MOV LEFT ACC
512: ADD 512
JGZ 512R
ADD 256
MOV 256 LEFT
JMP 256T
512R: SUB 256
MOV 0 LEFT
256T: JGZ 256R
MOV 128 LEFT
JMP 128
256R: SUB 256
MOV 0 LEFT
128: MOV ACC DOWN

@4
8: MOV RIGHT ACC
SAV
MOV RIGHT ACC
ADD 8
JGZ 8R
MOV ACC DOWN
SWP
ADD 4
JMP 4
8R: SUB 8
MOV ACC DOWN
SWP
4:MOV ACC DOWN

@5
MOV UP ACC
ADD RIGHT
ADD RIGHT
MOV ACC DOWN
ST: MOV UP ACC
ADD RIGHT
MOV DOWN LEFT
ADD RIGHT
MOV DOWN LEFT
MOV ACC DOWN
JMP ST

@6
MOV UP ACC
128: ADD 128
JGZ 128R
MOV 64 LEFT
JMP 64
128R: MOV 0 LEFT
SUB 128
64: ADD 64
JGZ 64R
MOV 32 LEFT
JMP 32
64R: MOV 0 LEFT
SUB 64
32: MOV ACC DOWN

@7
JRO RIGHT
NOP
JMP 3
NOP
JMP 2
NOP
JMP 1
NOP
JMP 0
3: ADD 1
2: ADD 1
1: ADD 1
0: ADD RIGHT
MOV ACC RIGHT
MOV 0 ACC

@8
MOV UP ACC
ADD 8
MOV ACC LEFT
MOV UP LEFT
LOOP:
MOV LEFT RIGHT
MOV UP ACC
ADD 8
MOV ACC LEFT
MOV UP LEFT
JMP LOOP

@9
MOV UP ACC
ADD RIGHT
ADD RIGHT
MOV ACC UP
MOV RIGHT UP
MOV UP ACC
ADD RIGHT
ST: ADD RIGHT
MOV ACC UP
MOV RIGHT UP
MOV LEFT DOWN
MOV UP ACC
ADD RIGHT
JMP ST

@10
MOV UP ACC
32: ADD 32
JGZ 32R
MOV 16 LEFT
JMP 16
32R: SUB 32
MOV 0 LEFT
16: ADD 16
JGZ 16R
MOV 8 LEFT
JMP 8
16R: SUB 16
MOV 0 LEFT
8: MOV ACC LEFT
