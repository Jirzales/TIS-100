@0
MOV RIGHT ACC
JEZ Z
MOV ACC DOWN
S: MOV RIGHT ACC
JEZ Z
MOV ACC DOWN
MOV ACC DOWN
JMP S
Z: MOV 0 DOWN
MOV 0 DOWN

@1
P: MOV UP ACC
JEZ Z
MOV ACC RIGHT
NEG
MOV ACC LEFT
SWP
ADD 1
SWP
JMP P
Z: SWP
ADD 1
MOV ACC DOWN
MOV 0 LEFT
MOV DOWN ACC

@2
MOV LEFT DOWN

@3
MOV UP ACC
MOV ACC DOWN
SUB 1
SWP
MOV DOWN ACC
AD: ADD DOWN
SWP
SUB 1
JNZ B
JMP FIN
B: SWP
JMP AD
FIN: SWP
MOV ACC DOWN
MOV 0 UP

@4
S: MOV UP ACC
JEZ Z
SAV
V: SUB UP
JLZ S
MOV UP ACC
JEZ Z
SWP
SAV
JMP V
Z: SWP
NEG
MOV ACC RIGHT

@5
MOV UP ACC
MOV ACC RIGHT
SWP
MOV LEFT ACC
B: MOV ACC UP
ADD 1
SWP
SUB 1
JNZ NZ
JMP FIN
NZ: SWP
JMP B
FIN: MOV UP ACC
SUB RIGHT
MOV ACC DOWN

@6
MOV LEFT ACC
SUB 1
B: SWP
ADD UP
SWP
SUB 1
JNZ B
SWP
MOV ACC LEFT